!function(e,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports,require("react-hook-form"),require("superstruct")):"function"==typeof define&&define.amd?define(["exports","react-hook-form","superstruct"],s):s((e="undefined"!=typeof globalThis?globalThis:e||self).ReactHookFormResolvers={},e.ReactHookForm,e.superstruct)}(this,(function(e,s,r){"use strict";var t=e=>e.reduce((e,s,r)=>`${e}${"string"==typeof s?`${r>0?".":""}${s}`:`[${s}]`}`,"").toString();const a=(e,r)=>{const a=e.failures(),n=Array.from(a);return n.length?n.reduce(function(e){return function(r,{path:a,message:n="",type:o}){const c=t(a);return Object.assign(Object.assign({},r),a?r[c]&&e?{[c]:s.appendErrors(c,e,r,o||"",n)}:{[c]:r[c]||Object.assign({message:n,type:o},e?{types:{[o||""]:n||!0}}:{})}:{})}}(r),{}):[]},n=(e,r)=>Array.isArray(e.details)?e.details.reduce((e,{path:a,message:n="",type:o})=>{const c=t(a);return Object.assign(Object.assign({},e),a?e[c]&&r?{[c]:s.appendErrors(c,r,e,o,n)}:{[c]:e[c]||Object.assign({message:n,type:o},r?{types:{[o]:n||!0}}:{})}:{})},{}):[],o=(e,r)=>e.isEmpty?{}:e.errors.reduce((e,{path:a,message:n,code:o})=>{const c=t(a);return Object.assign(Object.assign({},e),a?e[c]&&r?{[c]:s.appendErrors(c,r,e,o,n)}:{[c]:e[c]||Object.assign({message:n,type:o},r?{types:{[o]:n||!0}}:{})}:{})},{});e.joiResolver=(e,r={abortEarly:!1})=>async(t,a,o=!1)=>{try{return{values:await e.validateAsync(t,Object.assign({},r)),errors:{}}}catch(e){return{values:{},errors:s.transformToNestObject(n(e,o))}}},e.superstructResolver=e=>async(t,n,o=!0)=>{try{const[s]=r.validate(t,e);if(s)throw s;return{values:t,errors:{}}}catch(e){const r=a(e,o);return{values:{},errors:s.transformToNestObject(r)}}},e.yupResolver=(e,r={abortEarly:!1})=>async(t,a,n=!1)=>{try{return r.context&&process.env.NODE_ENV,{values:await e.validate(t,Object.assign(Object.assign({},r),{context:a})),errors:{}}}catch(e){const r=((e,s)=>Array.isArray(e.inner)&&e.inner.length?e.inner.reduce((e,{path:r,message:t,type:a})=>{const n=e[r]&&e[r].types||{},o=r||a;return Object.assign(Object.assign({},e),o?{[o]:Object.assign(Object.assign({},e[o]||{message:t,type:a}),s?{types:Object.assign(Object.assign({},n),{[a]:n[a]?[...[].concat(n[a]),t]:t})}:{})}:{})},{}):{[e.path]:{message:e.message,type:e.type}})(e,n);return{values:{},errors:s.transformToNestObject(r)}}},e.zodResolver=(e,r)=>async(t,a,n=!1)=>{const c=e.safeParse(t,r);return c.success?{values:c.data,errors:{}}:{values:{},errors:s.transformToNestObject(o(c.error,n))}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
